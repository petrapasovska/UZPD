Validace dat

Data mohou obsahovat nevalidní geometrii = geometrie není topologicky správná
K opravě geometrie, aby byla topologicky stprávná používáme několk funkcí :
ST_IsValid je funkce která pro jednotlivé záznamy tabulky vraci hodnoty TRUE (je validní) nebo FALSE (NENÍ VALIDNÍ)
ST_IsValidReason vrací "důvod" proč je geometrie nealidní (co je tam za chybu v topologii)
ST_MakeValid ze zadané geometrie vytvoří novou topologicky správnou geometrii

Příkaz:
select id, ST_IsValidReason(geom) AS duvod from "lesy" where ST_IsValid(geom) = FALSE;
vrací id a název chyby u nevalidních dat z tabulky lesy
navrátí: ID, Ring Self-intersection (souřadnice)

UPDATE  "lesy" SET geom = ST_MakeValid(geom)  where ST_IsValid(geom) = FALSE; 
příkaz přepíšr geometrii pro záznami s nevalidní geometrii na novou geometrii získanou funkcí ST_MakeValid